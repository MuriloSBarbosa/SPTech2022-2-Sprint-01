<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Financeiro</title>
    <link rel="stylesheet" href="/Sistema-AlertCenter/css/style.css">
</head>


<body>
    <div class="nav">
        <div class="logo">
            <img src="/Protótipos/LOGO_ONDATA.png" alt="">
        </div>
        <div class="links">
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="">Quem Somos</a></li>
                <li><a href="">Serviços</a></li>
                <li><a href="">Equipe</a></li>
                <li><a href="">Contato</a></li>
                <li><a href="">Orçamento</a></li>
                <li><a href="" class="a_login">Login</a></li>
            </ul>
        </div>
    </div>

    <div class="murilo" id="mumu" onclick="darktheme()"></div>

    <!-- Simulador -->
    <div class="geral">
        <div class="titulo">
            <h2>Orçamento</h2>
        </div>
        <div class="imagem">
            <img src="/Sistema-AlertCenter/img/calc1.png" alt="">
        </div>
        <div class="questoes">
            <p>Quantos Racks possui seu DataCenter: </p><input type="number" id="in_qtdHack"> <br>
            <p>Selecione o Tier do seu DataCenter: </p>
            <select name="racks" id="in_tier">
                <option value="1">Tier 1</option>
                <option value="2">Tier 2</option>
                <option value="3">Tier 3</option>
                <option value="4">Tier 4</option>
            </select>

            <p>Qual seu valor limite mensalmente: </p><input type="number" id="in_precoMax" placeholder="R$">
            <br>
            <button onclick="calc_financa()">Calcular Finanças</button>

        </div>

    </div>
    <div id="div_resultado" class="result"></div>
</body>

</html>
<script>
// Murilo
function darktheme() {
    if (document.getElementById('mumu').innerHTML==='Murilo') {
        document.body.style.background='#555';
        document.body.style.color='white';
        document.getElementById('mumu').innerHTML='Light';
    } else {
        document.body.style.background='white';
        document.body.style.color='#555';
        document.getElementById('mumu').innerHTML='Murilo';
    }
}

























    function calc_financa() {

        // Qtd de arduino
        var qtdHack = Number(in_qtdHack.value);

        var tier = in_tier.value;

        //6 sensores por arduino, definindo quantos arduinos tem
        var qtdArduino = Math.ceil(qtdHack / 6);

        //150 reais por arduino (preço do produto)
        var Arduino = (150 * qtdArduino);

        //Instalação = compra dos arduinos + 100 reais por instalação de arduino
        var instalacao = Arduino + (qtdArduino * 100);

        // Downtime por ano segundo a tabela em minutos
        if (tier == "1") {
            var tierPorcentagem = 0.01
        } else if (tier == "2") {
            var tierPorcentagem = 0.1
        } else if (tier == "3") {
            var tierPorcentagem = 0.2
        } else if (tier == "4") {
            var tierPorcentagem = 0.3
        }


        //Preço do projeto mensal
        var precoProjeto = 25000 + (25000 * tierPorcentagem);

        //Preço Projeto no primeiro mês é o preço da instalação + preco Projeto mensal
        var precoProjeto1 = instalacao + precoProjeto;

        // Custo de 30 minutos de downtime
        var paralisacao = 30 * 5600 * 5.24;

        // Custo do downtime por mês (1 por dia)
        var paralisacaoMes = paralisacao * 4;

        // Custo downtime por ano
        var paralisacaoAno = paralisacaoMes * 12;

        // Economia no primeiro Mês
        var economiaMes1 = paralisacaoMes - precoProjeto1;

        // Economia no proximos meses
        var economiaMes = paralisacaoMes - precoProjeto;

        // Economia por ano
        var economiaAno = paralisacaoAno - ((precoProjeto * 11) + precoProjeto1);

        // Preço máximo que pode gastar
        var precoMax = Number(in_precoMax.value);

        // Orçamento do cliente
        var orcamento = precoMax - precoProjeto1;



        // Frases do orçamento
        if (qtdHack == 0 | precoMax == 0) {
            alert("Por favor, insira um valor maior que zero !");

        } else {
            if (tier != "1" && tier != "2" && tier != "3" && tier != "4") {
                alert("Insira um Tier disponível!")
            } else {
                if (precoMax < precoProjeto) {
                    var frase = `Pelo seu orçamento, faltam R$${-orcamento}.00 para começarmos essa jornada!`;
                } else if (precoMax == precoProjeto) {
                    var frase = `Pelo seu oçamento, estamos exatamente de acordo!`;
                } else {
                    var frase = `Pelo seu orçamento, estamos de acordo e ainda sombram R$${orcamento}.00!`;
                }

                div_resultado.innerHTML =
                    `

                <div class="sistema">
                    Considerando que um arduino suporta até 6 sensores, você precisa de ${qtdArduino} arduino(s).<br><br>
                </div>

                <div class="sistema">
                    A um custo médio de <b>R$150,00</b> por unidade de arduino e R$100 da instalação individual, você desembolsará <b>R$${instalacao},00</b> para implementação do Projeto.<br><br>
                </div>

                <div class="pesquisa">
                    De acordo com a pesquisa <i>"Understainding the cost of data center downtime"</i> cada minuto de paralisação de um Data Center custa <b>U$5600,00</b>.<br><br>
                </div>

                <div class="conta">
                    A cada 30 minutos de paralisação você perde R$${paralisacao}. <br> <br>
                    Passando esse número para reais, e supondo que em uma má gestão da temperatura e umidade você pode ter 1 downtime por semana, em um mês você perderá <b>R$${paralisacaoMes},00</b> e em um ano <b>R$${paralisacaoAno},00</b>!. <br><br>
                </div>

                <div class="alegria">
                    Isso tudo pode ser evitado. Com o nosso projeto, esse gasto passará para <b>R$${precoProjeto1},00</b> no primeiro mês (mensal + instalação) e apenas <b>R$${precoProjeto},00</b> nos próximos!<br><br>
                </div>

                <div class="alegria2">
                    Ao todo você evitará e economizará <b>R$${economiaMes1},00</b> no primeiro mês, <b>R$${economiaMes},00</b> nos próximos meses e <b>R$${economiaAno},00</b> por ano! <br><br>
                </div>
                
                <div class="orcamento">
                    <b>${frase}</b>
                </div>
                `
            }
        }
    }
</script>